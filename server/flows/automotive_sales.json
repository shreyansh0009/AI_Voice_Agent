{
  "flowId": "automotive_sales_v1",
  "domain": "automotive",
  "version": "1.0",
  "description": "EV sales and test ride booking flow",

  "startStep": "greeting",
  "defaultLanguage": "en",

  "agentConfig": {
    "name": "Ava",
    "brand": "Revolt",
    "tone": "friendly",
    "style": "concise"
  },

  "interruptions": {
    "HELP": "handoff",
    "STOP": "end",
    "SPEAK_TO_HUMAN": "handoff",
    "CANCEL": "end",
    "CHANGE_TOPIC": "handoff"
  },

  "steps": {
    "greeting": {
      "type": "message",
      "text": {
        "en": "Hello! This is {{agentName}} from {{companyName}}. How can I help you today?",
        "hi": "नमस्ते! मैं {{companyName}} से {{agentName}} बोल रही हूँ। मैं आपकी कैसे मदद कर सकती हूँ?"
      },
      "next": "ask_intent"
    },

    "ask_intent": {
      "type": "choice",
      "field": "intent",
      "options": ["test_ride", "price_check", "availability", "support"],
      "text": {
        "en": "Would you like to book a test ride, check prices, or know about availability?",
        "hi": "क्या आप टेस्ट राइड बुक करना चाहते हैं, प्राइस जानना चाहते हैं, या अवेलेबिलिटी?"
      },
      "next": {
        "test_ride": "collect_name",
        "price_check": "collect_model",
        "availability": "collect_model",
        "support": "handoff"
      },
      "defaultNext": "collect_name"
    },

    "collect_name": {
      "type": "input",
      "field": "name",
      "validation": "name",
      "maxRetries": 2,
      "text": {
        "en": "May I know your name please?",
        "hi": "क्या मैं आपका नाम जान सकती हूँ?"
      },
      "retryText": {
        "en": "I didn't catch that. Could you tell me your name?",
        "hi": "मुझे समझ नहीं आया। कृपया अपना नाम बताइए।"
      },
      "onSuccess": "collect_mobile",
      "onFailure": "handoff"
    },

    "collect_mobile": {
      "type": "input",
      "field": "mobile",
      "validation": "mobile",
      "maxRetries": 2,
      "text": {
        "en": "Thanks {{name}}! Please share your 10-digit mobile number.",
        "hi": "धन्यवाद {{name}}! कृपया अपना 10 अंकों का मोबाइल नंबर बताइए।"
      },
      "retryText": {
        "en": "That doesn't seem right. Please share a valid 10-digit mobile number.",
        "hi": "यह सही नहीं लग रहा। कृपया सही 10 अंकों का नंबर बताइए।"
      },
      "onSuccess": "collect_pincode",
      "onFailure": "handoff"
    },

    "collect_pincode": {
      "type": "input",
      "field": "pincode",
      "validation": "pincode",
      "maxRetries": 2,
      "text": {
        "en": "Please share your 6-digit pincode.",
        "hi": "कृपया अपना 6 अंकों का पिनकोड बताइए।"
      },
      "retryText": {
        "en": "I need a valid 6-digit pincode. Please try again.",
        "hi": "कृपया सही 6 अंकों का पिनकोड बताइए।"
      },
      "onSuccess": "collect_model",
      "onFailure": "handoff"
    },

    "collect_model": {
      "type": "choice",
      "field": "model",
      "options": ["RV400", "RV400 BRZ", "RV1"],
      "text": {
        "en": "Which model are you interested in? We have RV400, RV400 BRZ, and RV1.",
        "hi": "आप किस मॉडल में रुचि रखते हैं? हमारे पास RV400, RV400 BRZ, और RV1 है।"
      },
      "next": {
        "RV400": "confirm_booking",
        "RV400 BRZ": "confirm_booking",
        "RV1": "confirm_booking"
      },
      "defaultNext": "confirm_booking"
    },

    "confirm_booking": {
      "type": "confirm",
      "text": {
        "en": "Let me confirm: {{name}}, mobile {{mobile}}, pincode {{pincode}}, interested in {{model}}. Is this correct?",
        "hi": "मैं कन्फर्म करती हूँ: {{name}}, मोबाइल {{mobile}}, पिनकोड {{pincode}}, {{model}} में रुचि। क्या यह सही है?"
      },
      "confirmNext": "book_appointment",
      "denyNext": "collect_name"
    },

    "book_appointment": {
      "type": "message",
      "action": "book_test_ride",
      "text": {
        "en": "Your test ride has been booked! Our team will contact you soon. Have a great day!",
        "hi": "आपकी टेस्ट राइड बुक हो गई है! हमारी टीम जल्द संपर्क करेगी। शुभ दिन!"
      },
      "next": "end"
    },

    "handoff": {
      "type": "handoff",
      "text": {
        "en": "Let me connect you with a human agent. Please hold.",
        "hi": "मैं आपको एक एजेंट से जोड़ती हूँ। कृपया रुकिए।"
      },
      "action": "transfer_to_human",
      "resumeEnabled": true
    },

    "end": {
      "type": "end",
      "text": {
        "en": "Thank you for calling {{companyName}}! Goodbye.",
        "hi": "{{companyName}} को कॉल करने के लिए धन्यवाद! अलविदा।"
      },
      "isEnd": true
    }
  }
}
